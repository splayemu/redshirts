{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "game/assets/js/config.js",
    "game/assets/js/controllers/ensign-controller.js",
    "game/assets/js/controllers/level-controller.js",
    "game/assets/js/controllers/officer-controller.js",
    "game/assets/js/debug.js",
    "game/assets/js/entities/ensign.js",
    "game/assets/js/entities/officer.js",
    "game/assets/js/events.js",
    "game/assets/js/redshirts.js",
    "game/assets/js/states/boot.js",
    "game/assets/js/states/preloader.js",
    "game/assets/js/states/ship.js",
    "game/assets/js/utils.js",
    "node_modules/d3-color/build/d3-color.js",
    "node_modules/d3-interpolate/build/d3-interpolate.js",
    "node_modules/d3-scale-chromatic/build/d3-scale-chromatic.js",
    "node_modules/easystarjs/src/easystar.js",
    "node_modules/easystarjs/src/instance.js",
    "node_modules/easystarjs/src/node.js",
    "node_modules/heap/index.js",
    "node_modules/heap/lib/heap.js"
  ],
  "names": [],
  "mappings": "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KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,OAA3B,CAAZ;;AAEA;AACA;;AAEA;AACA,YAAI,OAAO,MAAM,OAAN,CAAX;AACA,cAAM,OAAN,IAAiB,MAAM,KAAN,CAAjB;AACA,cAAM,KAAN,IAAe,IAAf;AACH;;AAED,WAAO,KAAP;AACH,CAlBD;;AAoBA,OAAO,OAAP,CAAe,MAAf,GAAwB,UAAU,KAAV,EAAiB,IAAjB,EAAuB;AAC3C,YAAQ,OAAO,OAAP,CAAe,OAAf,CAAuB,KAAvB,CAAR;;AAEA,WAAO,MAAM,KAAN,CAAY,CAAZ,EAAe,IAAf,CAAP;AACH,CAJD;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "module.exports = {\n    /**\n     * Use quickboot to quickly jump into a state, simply provide a string with the\n     * registered state name\n     *\n     * If none is provided the game will load into the MainMenu\n     */\n    startState: 'Ship',\n\n    /**\n     * Viewport dimensions\n     */\n    viewport: {\n        height: 562,\n        width: 1000\n    },\n\n    /**\n     * Used in conjunction with Redshirts.debug to define channels to enable debugging on\n     * When a flag is enabled, all debug prints on that channel will print to the console\n     *\n     * Some enable additional debugging features\n     */\n    debug: {\n        stateHooks: true,\n        grid: true,\n        player: true,\n        officers: true,\n    }\n};\n",
    "const debug = require('../debug.js');\nconst config = require('../config.js');\nconst Ensign = require('../entities/ensign.js');\n\nmodule.exports = function (game, level, num) {\n    this.game = game;\n    this.level = level;\n    this.num = num;\n\n    this.ensigns = [];\n    this.selected = null;\n};\n\nmodule.exports.prototype = {\n    preload: function () {},\n\n    spawn: function () {\n        this.easystar = this.level.levelController.createPathfinding();\n        //const ensignGraphic = debug.createSquare(this.game, 0xFF0000, 16, 16);\n        const [ensignRoom,] = this.level.levelController.getRooms('mess', 'lab');\n        for (var i = 0; i < this.num; i++) {\n            const loc = {\n                x: i * this.level.levelController.tileWidth + ensignRoom.x, \n                y: ensignRoom.y\n            };\n            this.ensigns.push(Ensign(this.game,\n                                     this.level,\n                                     loc.x,\n                                     loc.y));\n        }\n\n        this.selected = this.ensigns[0];\n    },\n\n    pathTo: function (e) {\n        const x = this.game.input.mousePointer.x + this.game.camera.x;\n        const y = this.game.input.mousePointer.y + this.game.camera.y;\n        console.log(config.debug.player, this, 'mousedown', x, y);\n\n        const loc = this.level.levelController.pxRound({ x: x, y: y });\n \n        if (config.debug.player) {\n            if (this.selected.debugSprite) this.selected.debugSprite.destroy();\n            this.selected.debugSprite = this.game.add.sprite(loc.x, loc.y, this.selected.debugPathEndTexture);\n        }\n\n        this.level.levelController.addPath(this.easystar, this.selected.sprite, loc, (path) => {\n            this.selected.path = path;\n        });\n    },\n\n    getPlayer: function () {\n        return this.selected;\n    },\n\n    update: function () {\n        this.easystar.calculate();\n        this.ensigns.forEach((ensign) => {\n            ensign.update();\n        });\n    },\n};\n",
    "const debug = require('../debug.js');\nconst config = require('../config.js');\nconst EasyStar = require('easystarjs');\n\nmodule.exports = function (game, level, filename, layerName) {\n    debug.log('stateHooks', 'level-controller.constructor');\n    this.game = game;\n    this.level = level;\n    this.filename = filename;\n    this.layerName = layerName;\n    this.levelID = 'ship';\n    this.walls = 'walls';\n    this.json = 'shipjson';\n    this.tileWidth = 32;\n    this.tileHeight = 32;\n};\n\nmodule.exports.prototype = {\n    preload: function () {\n        debug.log('stateHooks', 'level-controller.preload');\n        this.game.load.tilemap(this.levelID, this.filename, null, Phaser.Tilemap.TILED_JSON);\n        this.game.load.json(this.json, this.filename);\n    },\n\n    _loadGrid: function () {\n        // can also look for a tilelayer\n        const layer = this.game.cache.getJSON(this.json).layers[0];\n        const grid = [];\n\n        for (let row = 0; row < layer.height; row++) {\n            const newRow = [];\n            grid.push(newRow);\n\n            for (let col = 0; col < layer.width; col++) {\n                newRow.push(layer.data[row * layer.height + col]);\n\n                if (config.debug.grid) {\n                    if (layer.data[col + layer.height * row]) {\n                        this.game.add.sprite(col * this.tileWidth, row * this.tileHeight, this.debugGridTexture);\n                    }\n                }\n            }\n        }\n\n        this.grid = grid;\n        this.gridWidth = layer.width;\n        this.gridHeight = layer.height;\n    },\n\n    _loadRooms: function () {\n        this.rooms = this.game.cache.getJSON(this.json).layers.filter((layer) => {\n            return layer.name === \"rooms\";\n        })[0].objects;\n\n        this.rooms.forEach((room) => {\n            room.midPoint = {\n                x: room.x + room.width / 2,\n                y: room.y + room.height / 2,\n            };\n        });\n\n        if (config.debug.grid) {\n            this.rooms.forEach((room) => {\n                const roomTexture = debug.createSquare(this.game, 0xFFFF00, room.width, room.height);\n                this.game.add.sprite(room.x, room.y, roomTexture);\n\n                const style = { font: '18px Arial', fill: '#FFFFFF', align: 'left' };\n                this.game.add.text(room.x, room.y, room.name, style);\n            });\n        }\n    },\n\n    copyRoom: function (room) {\n        return {\n            name: room.name,\n            x: room.x,\n            y: room.y,\n            width: room.width,\n            height: room.height,\n            midPoint: room.midPoint,\n        };\n    },\n\n    getRooms: function (startingRoom, objectiveRoomName) {\n        const rooms = this.rooms.map(this.copyRoom);\n        const entityStartingRoom = rooms.filter((room) => { return room.name === startingRoom; })[0];\n        const objectiveRoom = rooms.filter((room) => { return room.name === objectiveRoomName; })[0];\n        const otherRooms = rooms.filter((room) => {\n            return room.name !== startingRoom && room.name !== objectiveRoomName;\n        });\n\n        return [entityStartingRoom, objectiveRoom, otherRooms];\n   },\n\n    tileX: function (xInPx) {\n        return Math.floor(xInPx / this.tileWidth);\n    },\n\n    tileY: function (yInPx) {\n        return Math.floor(yInPx / this.tileHeight);\n    },\n\n\n    convertTile: function (loc) {\n        return {\n            x: this.tileX(loc.x),\n            y: this.tileY(loc.y),\n        };\n    },\n\n    convertPx: function (loc) {\n        return {\n            x: loc.x * this.tileWidth,\n            y: loc.y * this.tileHeight\n        };\n    },\n\n    pxRound: function (loc) {\n        return this.convertPx(this.convertTile(loc));\n    },\n\n    createGround: function () {\n        // draws the img\n        this.map = this.game.add.tilemap(this.levelID, this.tileWidth, this.tileHeight);\n        this.map.addTilesetImage('background');\n        this.map.createLayer(this.layerName);\n\n        // debug textures\n        this.debugGridTexture = debug.createSquare(this.game, 0xFFFF00, this.tileWidth, this.tileHeight);\n\n        this._loadGrid();\n        this._loadRooms();\n    },\n\n\n    createPathfinding: function () {\n        console.log(EasyStar);\n        const easystar = new EasyStar.js();\n        easystar.setGrid(this.grid);\n\n        // default to everything but the walls\n        easystar.setAcceptableTiles([0]);\n        easystar.setIterationsPerCalculation(100);\n\n        return easystar;\n    },\n\n    addPath: function (easystar, start, end, callback) {\n        const starting = this.convertTile(start);\n        const ending = this.convertTile(end);\n\n        // it returns null if the path is on an inaccessible block, but doesn't ever call if it's blocked off\n        easystar.findPath(starting.x, starting.y, ending.x, ending.y, (path) => {\n            if (path === null) {\n                debug.log('grid', `${start.x}, ${start.y} can't path to ${ending.x}, ${ending.y}`);\n            } else {\n                //console.groupCollapsed('player');\n                //console.log('new path found', entity.sprite.x, entity.sprite.y);\n                //console.log('first location', path[0]);\n                //console.groupEnd('player');\n\n                callback(path.map((loc) => {\n                    loc.x *= this.tileWidth;\n                    loc.y *= this.tileHeight;\n                    return loc;\n                }));\n            }\n        });\n    },\n};\n",
    "const d3Color = require('d3-color');\nconst d3ScaleChromatic = require('d3-scale-chromatic');\n\nconst utils = require('../utils.js');\nconst events = require('../events.js');\nconst Officer = require('../entities/officer.js');\n\nmodule.exports = function (game, level, num) {\n    this.game = game;\n    this.level = level;\n    this.num = num;\n\n    this.officers = [];\n\n    events.officerIdle.add(this.createPatrol, this);\n};\n\nmodule.exports.prototype = {\n    preload: function () {},\n\n    // spawning\n    spawn: function () {\n        this.easystar = this.level.levelController.createPathfinding();\n\n        const [officerRoom,] = this.level.levelController.getRooms('bridge', 'lab');\n\n        function colorScale (i, max) {\n            const percent = (i + 1) / (max + 1);\n            const color = d3Color.color(d3ScaleChromatic.interpolateBlues(percent));\n            console.log('colorScale', percent, color, color.toString()); \n            return utils.parseColor(utils.rgbToHex(color), true);\n        }\n\n        for (var i = 0; i < this.num; i++) {\n            const loc = {\n                x: i * this.level.levelController.tileWidth + officerRoom.x, \n                y: officerRoom.y\n            };\n            console.log('spawning officer', Officer);\n            this.officers.push(Officer(this.game,\n                                       this.level,\n                                       colorScale(i, this.num),\n                                       loc.x,\n                                       loc.y));\n\n        }\n    },\n\n    // mechanism for patrol\n    addPatrol: function () {\n        this.officers.forEach((officer) => { \n            for (var i = 1; i < 4; i++) {\n                const loc = { x: officer.sprite.x, y: (officer.sprite.y + i * this.level.levelController.tileHeight * 5) };\n                officer.enqueuePatrol(loc);\n            }\n        });\n    },\n\n    createPatrol: function (officer) {\n        const [officerRoom, objectiveRoom, otherRooms] = this.level.levelController.getRooms('bridge', 'lab');\n        // random ordering of rooms\n        const patrolRooms = utils.shuffle([officerRoom, objectiveRoom, ...utils.sample(otherRooms, 2)]);\n        patrolRooms.forEach((room, i, arr) => {\n            let prevLoc = null;\n            if (i > 0) { \n                prevLoc = arr[i - 1].midPoint; \n            }\n            officer.enqueuePatrol(room, prevLoc);\n        });\n    },\n\n    // start patrol\n    update: function () {\n        this.easystar.calculate();\n        this.officers.forEach((officer) => {\n            officer.update();\n        });\n    },\n\n}\n",
    "const config = require('./config.js');\nconst utils = require('./utils.js');\n\nmodule.exports.log = function(flag, message, color) {\n    if (config.debug[flag]) {\n        if (color) {\n            console.log(`%c ${message}`, `background: ${utils.parseColor(color)}; color: white; display: block;`);\n        } else {\n            console.log(message);\n        }\n    }\n};\n\nmodule.exports.createSquare = function (game, color, width, height) {\n    console.log('createRect', color, width, height);\n    const debugGraphics = game.add.graphics(0, 0);\n    // doesn't seem to change anything\n    //debugGraphics.boundsPadding = 0;\n\n    debugGraphics.lineStyle(1, color);\n    debugGraphics.beginFill(color, 0.5);\n    debugGraphics.drawRect(0, 0, width, height);\n    debugGraphics.endFill();\n\n\n    const debugGraphicsTexture = debugGraphics.generateTexture();\n    debugGraphics.destroy();\n    return debugGraphicsTexture;\n};\n\nmodule.exports.createCircle = function (game, color, radius) {\n    console.log('createCircle', color, radius);\n    const debugGraphics = game.add.graphics(0, 0);\n    // doesn't seem to change anything\n    //debugGraphics.boundsPadding = 0;\n\n    debugGraphics.lineStyle(1, color);\n    debugGraphics.beginFill(color, 0.5);\n    debugGraphics.drawCircle(0, 0, radius);\n    debugGraphics.endFill();\n\n\n    const debugGraphicsTexture = debugGraphics.generateTexture();\n    debugGraphics.destroy();\n    return debugGraphicsTexture;\n};\n",
    "const debug = require('../debug.js');\n\nconst ensignPrototype = {\n    update: function () {\n        if (this.path !== null && this.path.length > 0) {\n            if (this.tween === null) {\n                const loc = this.path.shift();\n                this.tween = this.game.add.tween(this.sprite).to(loc, this.speed, null, true);\n                this.tween.onComplete.add((e) => { this.tween = null; }, this);\n            } \n        } else if (this.path !== null && this.path.length === 0) {\n            this.path = null;\n        }\n    }\n};\n\nlet ensignID = 0;\n\nmodule.exports = function (game, level, startingX, startingY) {\n    const debugColor = 0xFF0000;\n    // The player and its settings\n    //const sprite = Redshirts.debugGraphics.create(game, color, 16, 16);\n\n    const ensign = Object.assign(Object.create(ensignPrototype), {\n        game: game,\n        level: level,\n\n        speed: 150,\n        startingX: startingX,\n        startingY: startingY,\n\n        path: null,\n        tween: null,\n\n        debugColor: debugColor, \n        debugPathEndTexture: debug.createSquare(game, \n                                                debugColor, \n                                                level.levelController.tileWidth, \n                                                level.levelController.tileHeight),\n        debugSprite: null,\n\n        // The player and its settings\n        sprite: game.add.sprite(startingX, startingY, 'betty')\n    });\n\n    ensignID++;\n    return ensign;\n};\n",
    "const config = require('../config.js');\nconst debug = require('../debug.js');\nconst events = require('../events.js');\n\nconst officerPrototype = {\n    debug: function (msg) {\n        debug.log('officers', `officer: ${this.id}, ${msg}`, this.color);\n    },\n\n    update: function () {\n        // depatrolQueue patrol item\n\n        if (this.waiting) {\n            this.waiting -= 1;\n        } else {\n            // if nothing to do, idle\n            this._move();\n        }\n    },\n\n    _move: function () {\n        if (this.path.length > 0) {\n            if (this.tween === null) {\n                const loc = this.path.shift();\n                this.tween = this.game.add.tween(this.sprite).to(loc, this.speed, null, true);\n                this.tween.onComplete.add((e) => { this.tween = null; }, this);\n            }\n        } else if (this.path.length === 0) {\n            const nextRoom = this.peekPatrol();\n            if (nextRoom) {\n                if (nextRoom.path) this.dequeuePatrol();\n            } else {\n                this.debug('officerIdle');\n                events.officerIdle.dispatch(this);\n            }\n\n            this.waiting = this.waitTime;\n        }\n    },\n\n    peekPatrol: function () {\n        if (this.patrolQueue.length > 0) {\n            return this.patrolQueue[0];\n        } else {\n            return null;\n        }\n    },\n\n    dequeuePatrol: function () {\n        const nextRoom = this.patrolQueue.shift();\n        this.path = nextRoom.path;\n        if (config.debug.officers) {\n            const pathSprite = this.pathSprites.shift();\n            // could change or animate sprite to be different\n\n        }\n\n        this.debug(`depatrolQueuePatrol ${nextRoom.name}: ${this.path[this.path.length - 1].x}, ${this.path[this.path.length - 1].y}`);\n    },\n\n    enqueuePatrol: function (room, prevLoc) {\n        const loc = this.level.levelController.pxRound(prevLoc || this.sprite); \n\n        this.debug(`enpatrolQueueRoom ${room.name} starting at (${loc.x}, ${loc.y})`);\n\n        if (config.debug.officers) {\n            this.pathSprites.push(this.game.add.sprite(room.midPoint.x, room.midPoint.y, this.debugPathEndTexture));\n        }\n\n        this.patrolQueue.push(room);\n\n        this.level.levelController.addPath(this.level.officerController.easystar, loc, room.midPoint, (path) => {\n            room.path = path;\n        });\n    },\n};\n\n\nlet officerID = 0;\n\nmodule.exports = function (game, level, color, startingX, startingY) {\n\n    // The player and its settings\n    const sprite = debug.createSquare(game, color, 16, 16);\n\n    const officer = Object.assign(Object.create(officerPrototype), {\n        id: officerID,\n        game: game,\n        level: level,\n        color: color, \n\n        speed: 150,\n        startingX: startingX,\n        startingY: startingY,\n\n        path: [],\n        tween: null,\n\n        sprite: game.add.sprite(startingX, startingY, sprite),\n\n        debugPathEndTexture: debug.createCircle(game, \n                                                color, \n                                                level.levelController.tileWidth / 4), \n\n        pathSprites: [],\n        debugSprite: null,\n        waitTime: 100,\n        waiting: 0,\n\n        patrolQueue: [],\n    });\n\n    officerID++;\n    officer.debug(`created with color ${color}`);\n    return officer;\n};\n",
    "module.exports.officerIdle = new Phaser.Signal();\n",
    "\nconst d3Interpolate = require('d3-interpolate');\nconst d3Color = require('d3-color');\nconst d3ScaleChromatic = require('d3-scale-chromatic');\nconst easystar = require('easystarjs');\nconst config = require('./config.js');\nconst boot = require('./states/boot.js');\nconst preloader = require('./states/preloader.js');\nconst ship = require('./states/ship.js');\n\nvar Redshirts = {\n    states: {},\n    entities: {\n        ui: {}\n    },\n    controllers: {},\n    events: {},\n    config: null\n};\n\nconsole.log(config);\n\nwindow.onload = function() {\n    const game = new Phaser.Game(config.viewport.width, config.viewport.height, Phaser.CANVAS, '');\n    \n    game.state.add('Boot', boot);\n    game.state.add('Preloader', preloader);\n    game.state.add('Ship', ship);\n    \n    console.log('starting game');\n    game.state.start('Boot');\n\n};\n",
    "const debug = require('../debug.js');\n\nmodule.exports = function(game) {\n    debug.log('stateHooks', 'Boot.constructor');\n    this.game = game;\n};\n\nmodule.exports.prototype = {\n    preload: function() {\n        debug.log('stateHooks', 'Boot.preload');\n        this.game.load.image('logo', 'phaser.png');\n\n    },\n\n    create: function() {\n        debug.log('stateHooks', 'Boot.create');\n        this.scale.minWidth = 1000;\n        this.scale.minHeight = 562;\n        this.scale.pageAlignHorizontally = true;\n        this.scale.pageAlignVertically = true;\n        this.stage.backgroundColor = '#171642';\n\n        var logo = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, 'logo');\n        logo.anchor.setTo(0.5, 0.5);\n\n        this.state.start('Preloader');\n    }\n}\n",
    "const debug = require('../debug.js');\nconst config = require('../config.js');\n\nmodule.exports = function (game) {\n    debug.log('stateHooks', 'Preloader.constructor');\n};\n\nmodule.exports.prototype = {\n\n    preload: function () {\n        debug.log('stateHooks', 'Preloader.preload');\n        this.game.load.spritesheet('dude', 'assets/img/dude.png', 32, 48);\n        //opengameart.org/content/one-more-lpc-alternate-character\n        this.game.load.spritesheet('betty', 'assets/spritesheets/betty.png', 32, 32, 8, 8);\n        this.game.load.spritesheet('background', 'assets/spritesheets/background.png', 32, 32, 2);\n\n    },\n\n    create: function () {\n        debug.log('stateHooks', 'Preloader.create');\n        //this.preloadBar.cropEnabled = false;\n    },\n\n    update: function () {\n        //this.ready = true;\n        this.state.start(config.startState === null ? 'Ship' : config.startState);\n    },\n}\n",
    "const debug = require('../debug.js');\nconst LevelController = require('../controllers/level-controller.js');\nconst OfficerController = require('../controllers/officer-controller.js');\nconst EnsignController = require('../controllers/ensign-controller.js');\n\nmodule.exports = function(game) {\n    debug.log('stateHooks', 'Ship.constructor');\n    this.game = game;\n    this.player;\n    this.platformGroup;\n    this.levelController = new LevelController(this.game, \n                                               this, \n                                               'assets/levels/ship.json', \n                                               'Tile Layer 1');\n\n    this.officerController = new OfficerController(this.game, this, 2);\n    this.ensignController = new EnsignController(this.game, this, 1);\n};\n\nmodule.exports.prototype = {\n    preload: function() {\n        debug.log('stateHooks', 'Ship.preload');\n        this.levelController.preload();\n    },\n\n    create: function() {\n        debug.log('stateHooks', 'Ship.create');\n\n        this.tweens.frameBased = true;\n        this.levelController.createGround();\n\n        this.game.world.setBounds(0, 0, 2000, 2000);\n\n        this.ensignController.spawn();\n        this.player = this.ensignController.getPlayer();\n\n        this.game.camera.follow(this.player.sprite, Phaser.Camera.FOLLOW_LOCKON, 0.1, 0.1);\n\n        // click events\n        this.game.input.onDown.add(this.ensignController.pathTo, this.ensignController);\n\n        // create officers\n        this.officerController.spawn();\n        //this.officerController.createPatrols();\n    },\n\n    update: function() {\n        this.player.update();\n        this.officerController.update();\n        this.ensignController.update();\n\n    },\n\n    render: function () {\n        this.game.debug.cameraInfo(this.game.camera, 32, 32);\n\n    }\n}\n",
    "module.exports.parseColor = function (color, toNumber) {\n  if (toNumber === true) {\n    if (typeof color === 'number') {\n      return (color | 0); //chop off decimal\n    }\n    if (typeof color === 'string' && color[0] === '#') {\n      color = color.slice(1);\n    }\n    return window.parseInt(color, 16);\n  } else {\n    if (typeof color === 'number') {\n      //make sure our hexadecimal number is padded out\n      color = '#' + ('00000' + (color | 0).toString(16)).substr(-6);\n    }\n\n    return color;\n  }\n};\n\nfunction componentToHex (c) {\n    var hex = c.toString(16);\n    return hex.length == 1 ? \"0\" + hex : hex;\n};\n\nmodule.exports.rgbToHex = function (color) {\n    const colorString = \"#\" + componentToHex(color.r) + componentToHex(color.g) + componentToHex(color.b);\n    return colorString; \n};\n\nmodule.exports.getRandomInt = function (min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n};\n\nmodule.exports.shuffle = function (array) {\n    let counter = array.length;\n\n    // While there are elements in the array\n    while (counter > 0) {\n        // Pick a random index\n        let index = Math.floor(Math.random() * counter);\n\n        // Decrease counter by 1\n        counter--;\n\n        // And swap the last element with it\n        let temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n\n    return array;\n};\n\nmodule.exports.sample = function (array, size) {\n    array = module.exports.shuffle(array);\n\n    return array.slice(0, size);\n};\n",
    "// https://d3js.org/d3-color/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar define = function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n};\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\";\nvar reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\";\nvar reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\";\nvar reHex3 = /^#([0-9a-f]{3})$/;\nvar reHex6 = /^#([0-9a-f]{6})$/;\nvar reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\");\nvar reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\");\nvar reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\");\nvar reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\");\nvar reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\");\nvar reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI;\n\nvar Kn = 18;\nvar Xn = 0.950470;\nvar Yn = 1;\nvar Zn = 1.088830;\nvar t0 = 4 / 29;\nvar t1 = 6 / 29;\nvar t2 = 3 * t1 * t1;\nvar t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n\nvar A = -0.14861;\nvar B = +1.78277;\nvar C = -0.29227;\nvar D = -0.90649;\nvar E = +1.97294;\nvar ED = E * D;\nvar EB = E * B;\nvar BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n\nexports.color = color;\nexports.rgb = rgb;\nexports.hsl = hsl;\nexports.lab = lab;\nexports.hcl = hcl;\nexports.cubehelix = cubehelix;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n",
    "// https://d3js.org/d3-interpolate/ Version 1.1.3. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-color'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Color) { 'use strict';\n\nfunction basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nvar basis$1 = function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar basisClosed = function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = ((function rgbGamma(y) {\n  var color$$1 = gamma(y);\n\n  function rgb$$1(start, end) {\n    var r = color$$1((start = d3Color.rgb(start)).r, (end = d3Color.rgb(end)).r),\n        g = color$$1(start.g, end.g),\n        b = color$$1(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$$1.gamma = rgbGamma;\n\n  return rgb$$1;\n}))(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color$$1;\n    for (i = 0; i < n; ++i) {\n      color$$1 = d3Color.rgb(colors[i]);\n      r[i] = color$$1.r || 0;\n      g[i] = color$$1.g || 0;\n      b[i] = color$$1.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color$$1.opacity = 1;\n    return function(t) {\n      color$$1.r = r(t);\n      color$$1.g = g(t);\n      color$$1.b = b(t);\n      return color$$1 + \"\";\n    };\n  };\n}\n\nvar rgbBasis = rgbSpline(basis$1);\nvar rgbBasisClosed = rgbSpline(basisClosed);\n\nvar array = function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n};\n\nvar date = function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n};\n\nvar number = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n};\n\nvar object = function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n};\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\nvar reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nvar string = function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n};\n\nvar value = function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = d3Color.color(b)) ? (b = c, rgb$1) : string)\n      : b instanceof d3Color.color ? rgb$1\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : isNaN(b) ? object\n      : number)(a, b);\n};\n\nvar round = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n};\n\nvar degrees = 180 / Math.PI;\n\nvar identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nvar decompose = function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n};\n\nvar cssNode;\nvar cssRoot;\nvar cssView;\nvar svgNode;\n\nfunction parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar rho = Math.SQRT2;\nvar rho2 = 2;\nvar rho4 = 4;\nvar epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nvar zoom = function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n};\n\nfunction hsl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hsl(start)).h, (end = d3Color.hsl(end)).h),\n        s = nogamma(start.s, end.s),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hsl$2 = hsl$1(hue);\nvar hslLong = hsl$1(nogamma);\n\nfunction lab$1(start, end) {\n  var l = nogamma((start = d3Color.lab(start)).l, (end = d3Color.lab(end)).l),\n      a = nogamma(start.a, end.a),\n      b = nogamma(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n\nfunction hcl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hcl(start)).h, (end = d3Color.hcl(end)).h),\n        c = nogamma(start.c, end.c),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hcl$2 = hcl$1(hue);\nvar hclLong = hcl$1(nogamma);\n\nfunction cubehelix$1(hue$$1) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix$$1(start, end) {\n      var h = hue$$1((start = d3Color.cubehelix(start)).h, (end = d3Color.cubehelix(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix$$1.gamma = cubehelixGamma;\n\n    return cubehelix$$1;\n  })(1);\n}\n\nvar cubehelix$2 = cubehelix$1(hue);\nvar cubehelixLong = cubehelix$1(nogamma);\n\nvar quantize = function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n};\n\nexports.interpolate = value;\nexports.interpolateArray = array;\nexports.interpolateBasis = basis$1;\nexports.interpolateBasisClosed = basisClosed;\nexports.interpolateDate = date;\nexports.interpolateNumber = number;\nexports.interpolateObject = object;\nexports.interpolateRound = round;\nexports.interpolateString = string;\nexports.interpolateTransformCss = interpolateTransformCss;\nexports.interpolateTransformSvg = interpolateTransformSvg;\nexports.interpolateZoom = zoom;\nexports.interpolateRgb = rgb$1;\nexports.interpolateRgbBasis = rgbBasis;\nexports.interpolateRgbBasisClosed = rgbBasisClosed;\nexports.interpolateHsl = hsl$2;\nexports.interpolateHslLong = hslLong;\nexports.interpolateLab = lab$1;\nexports.interpolateHcl = hcl$2;\nexports.interpolateHclLong = hclLong;\nexports.interpolateCubehelix = cubehelix$2;\nexports.interpolateCubehelixLong = cubehelixLong;\nexports.quantize = quantize;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n",
    "// https://d3js.org/d3-scale-chromatic/ Version 1.1.1. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-interpolate')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-interpolate'], factory) :\n\t(factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Interpolate) { 'use strict';\n\nvar colors = function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n};\n\nvar Accent = colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n\nvar Dark2 = colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n\nvar Paired = colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n\nvar Pastel1 = colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n\nvar Pastel2 = colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n\nvar Set1 = colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n\nvar Set2 = colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n\nvar Set3 = colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n\nvar ramp = function(scheme) {\n  return d3Interpolate.interpolateRgbBasis(scheme[scheme.length - 1]);\n};\n\nvar scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nvar BrBG = ramp(scheme);\n\nvar scheme$1 = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nvar PRGn = ramp(scheme$1);\n\nvar scheme$2 = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nvar PiYG = ramp(scheme$2);\n\nvar scheme$3 = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nvar PuOr = ramp(scheme$3);\n\nvar scheme$4 = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nvar RdBu = ramp(scheme$4);\n\nvar scheme$5 = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nvar RdGy = ramp(scheme$5);\n\nvar scheme$6 = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nvar RdYlBu = ramp(scheme$6);\n\nvar scheme$7 = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nvar RdYlGn = ramp(scheme$7);\n\nvar scheme$8 = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nvar Spectral = ramp(scheme$8);\n\nvar scheme$9 = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nvar BuGn = ramp(scheme$9);\n\nvar scheme$10 = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nvar BuPu = ramp(scheme$10);\n\nvar scheme$11 = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nvar GnBu = ramp(scheme$11);\n\nvar scheme$12 = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nvar OrRd = ramp(scheme$12);\n\nvar scheme$13 = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nvar PuBuGn = ramp(scheme$13);\n\nvar scheme$14 = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nvar PuBu = ramp(scheme$14);\n\nvar scheme$15 = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nvar PuRd = ramp(scheme$15);\n\nvar scheme$16 = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nvar RdPu = ramp(scheme$16);\n\nvar scheme$17 = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nvar YlGnBu = ramp(scheme$17);\n\nvar scheme$18 = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nvar YlGn = ramp(scheme$18);\n\nvar scheme$19 = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nvar YlOrBr = ramp(scheme$19);\n\nvar scheme$20 = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nvar YlOrRd = ramp(scheme$20);\n\nvar scheme$21 = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nvar Blues = ramp(scheme$21);\n\nvar scheme$22 = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nvar Greens = ramp(scheme$22);\n\nvar scheme$23 = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nvar Greys = ramp(scheme$23);\n\nvar scheme$24 = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nvar Purples = ramp(scheme$24);\n\nvar scheme$25 = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nvar Reds = ramp(scheme$25);\n\nvar scheme$26 = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nvar Oranges = ramp(scheme$26);\n\nexports.schemeAccent = Accent;\nexports.schemeDark2 = Dark2;\nexports.schemePaired = Paired;\nexports.schemePastel1 = Pastel1;\nexports.schemePastel2 = Pastel2;\nexports.schemeSet1 = Set1;\nexports.schemeSet2 = Set2;\nexports.schemeSet3 = Set3;\nexports.interpolateBrBG = BrBG;\nexports.schemeBrBG = scheme;\nexports.interpolatePRGn = PRGn;\nexports.schemePRGn = scheme$1;\nexports.interpolatePiYG = PiYG;\nexports.schemePiYG = scheme$2;\nexports.interpolatePuOr = PuOr;\nexports.schemePuOr = scheme$3;\nexports.interpolateRdBu = RdBu;\nexports.schemeRdBu = scheme$4;\nexports.interpolateRdGy = RdGy;\nexports.schemeRdGy = scheme$5;\nexports.interpolateRdYlBu = RdYlBu;\nexports.schemeRdYlBu = scheme$6;\nexports.interpolateRdYlGn = RdYlGn;\nexports.schemeRdYlGn = scheme$7;\nexports.interpolateSpectral = Spectral;\nexports.schemeSpectral = scheme$8;\nexports.interpolateBuGn = BuGn;\nexports.schemeBuGn = scheme$9;\nexports.interpolateBuPu = BuPu;\nexports.schemeBuPu = scheme$10;\nexports.interpolateGnBu = GnBu;\nexports.schemeGnBu = scheme$11;\nexports.interpolateOrRd = OrRd;\nexports.schemeOrRd = scheme$12;\nexports.interpolatePuBuGn = PuBuGn;\nexports.schemePuBuGn = scheme$13;\nexports.interpolatePuBu = PuBu;\nexports.schemePuBu = scheme$14;\nexports.interpolatePuRd = PuRd;\nexports.schemePuRd = scheme$15;\nexports.interpolateRdPu = RdPu;\nexports.schemeRdPu = scheme$16;\nexports.interpolateYlGnBu = YlGnBu;\nexports.schemeYlGnBu = scheme$17;\nexports.interpolateYlGn = YlGn;\nexports.schemeYlGn = scheme$18;\nexports.interpolateYlOrBr = YlOrBr;\nexports.schemeYlOrBr = scheme$19;\nexports.interpolateYlOrRd = YlOrRd;\nexports.schemeYlOrRd = scheme$20;\nexports.interpolateBlues = Blues;\nexports.schemeBlues = scheme$21;\nexports.interpolateGreens = Greens;\nexports.schemeGreens = scheme$22;\nexports.interpolateGreys = Greys;\nexports.schemeGreys = scheme$23;\nexports.interpolatePurples = Purples;\nexports.schemePurples = scheme$24;\nexports.interpolateReds = Reds;\nexports.schemeReds = scheme$25;\nexports.interpolateOranges = Oranges;\nexports.schemeOranges = scheme$26;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n",
    "/**\n*   EasyStar.js\n*   github.com/prettymuchbryce/EasyStarJS\n*   Licensed under the MIT license.\n*\n*   Implementation By Bryce Neal (@prettymuchbryce)\n**/\n\nvar EasyStar = {}\nvar Instance = require('./instance');\nvar Node = require('./node');\nvar Heap = require('heap');\n\nconst CLOSED_LIST = 0;\nconst OPEN_LIST = 1;\n\nmodule.exports = EasyStar;\n\nEasyStar.js = function() {\n    var STRAIGHT_COST = 1.0;\n    var DIAGONAL_COST = 1.4;\n    var syncEnabled = false;\n    var pointsToAvoid = {};\n    var collisionGrid;\n    var costMap = {};\n    var pointsToCost = {};\n    var directionalConditions = {};\n    var allowCornerCutting = true;\n    var iterationsSoFar;\n    var instances = [];\n    var iterationsPerCalculation = Number.MAX_VALUE;\n    var acceptableTiles;\n    var diagonalsEnabled = false;\n\n    /**\n    * Sets the collision grid that EasyStar uses.\n    *\n    * @param {Array|Number} tiles An array of numbers that represent\n    * which tiles in your grid should be considered\n    * acceptable, or \"walkable\".\n    **/\n    this.setAcceptableTiles = function(tiles) {\n        if (tiles instanceof Array) {\n            // Array\n            acceptableTiles = tiles;\n        } else if (!isNaN(parseFloat(tiles)) && isFinite(tiles)) {\n            // Number\n            acceptableTiles = [tiles];\n        }\n    };\n\n    /**\n    * Enables sync mode for this EasyStar instance..\n    * if you're into that sort of thing.\n    **/\n    this.enableSync = function() {\n        syncEnabled = true;\n    };\n\n    /**\n    * Disables sync mode for this EasyStar instance.\n    **/\n    this.disableSync = function() {\n        syncEnabled = false;\n    };\n\n    /**\n     * Enable diagonal pathfinding.\n     */\n    this.enableDiagonals = function() {\n        diagonalsEnabled = true;\n    }\n\n    /**\n     * Disable diagonal pathfinding.\n     */\n    this.disableDiagonals = function() {\n        diagonalsEnabled = false;\n    }\n\n    /**\n    * Sets the collision grid that EasyStar uses.\n    *\n    * @param {Array} grid The collision grid that this EasyStar instance will read from.\n    * This should be a 2D Array of Numbers.\n    **/\n    this.setGrid = function(grid) {\n        collisionGrid = grid;\n\n        //Setup cost map\n        for (var y = 0; y < collisionGrid.length; y++) {\n            for (var x = 0; x < collisionGrid[0].length; x++) {\n                if (!costMap[collisionGrid[y][x]]) {\n                    costMap[collisionGrid[y][x]] = 1\n                }\n            }\n        }\n    };\n\n    /**\n    * Sets the tile cost for a particular tile type.\n    *\n    * @param {Number} The tile type to set the cost for.\n    * @param {Number} The multiplicative cost associated with the given tile.\n    **/\n    this.setTileCost = function(tileType, cost) {\n        costMap[tileType] = cost;\n    };\n\n    /**\n    * Sets the an additional cost for a particular point.\n    * Overrides the cost from setTileCost.\n    *\n    * @param {Number} x The x value of the point to cost.\n    * @param {Number} y The y value of the point to cost.\n    * @param {Number} The multiplicative cost associated with the given point.\n    **/\n    this.setAdditionalPointCost = function(x, y, cost) {\n        pointsToCost[x + '_' + y] = cost;\n    };\n\n    /**\n    * Remove the additional cost for a particular point.\n    *\n    * @param {Number} x The x value of the point to stop costing.\n    * @param {Number} y The y value of the point to stop costing.\n    **/\n    this.removeAdditionalPointCost = function(x, y) {\n        delete pointsToCost[x + '_' + y];\n    }\n\n    /**\n    * Remove all additional point costs.\n    **/\n    this.removeAllAdditionalPointCosts = function() {\n        pointsToCost = {};\n    }\n\n    /**\n    * Sets a directional condition on a tile\n    *\n    * @param {Number} x The x value of the point.\n    * @param {Number} y The y value of the point.\n    * @param {Array.<String>} allowedDirections A list of all the allowed directions that can access\n    * the tile.\n    **/\n    this.setDirectionalCondition = function(x, y, allowedDirections) {\n        directionalConditions[x + '_' + y] = allowedDirections;\n    };\n\n    /**\n    * Remove all directional conditions\n    **/\n    this.removeAllDirectionalConditions = function() {\n        directionalConditions = {};\n    };\n\n    /**\n    * Sets the number of search iterations per calculation.\n    * A lower number provides a slower result, but more practical if you\n    * have a large tile-map and don't want to block your thread while\n    * finding a path.\n    *\n    * @param {Number} iterations The number of searches to prefrom per calculate() call.\n    **/\n    this.setIterationsPerCalculation = function(iterations) {\n        iterationsPerCalculation = iterations;\n    };\n\n    /**\n    * Avoid a particular point on the grid,\n    * regardless of whether or not it is an acceptable tile.\n    *\n    * @param {Number} x The x value of the point to avoid.\n    * @param {Number} y The y value of the point to avoid.\n    **/\n    this.avoidAdditionalPoint = function(x, y) {\n        pointsToAvoid[x + \"_\" + y] = 1;\n    };\n\n    /**\n    * Stop avoiding a particular point on the grid.\n    *\n    * @param {Number} x The x value of the point to stop avoiding.\n    * @param {Number} y The y value of the point to stop avoiding.\n    **/\n    this.stopAvoidingAdditionalPoint = function(x, y) {\n        delete pointsToAvoid[x + \"_\" + y];\n    };\n\n    /**\n    * Enables corner cutting in diagonal movement.\n    **/\n    this.enableCornerCutting = function() {\n        allowCornerCutting = true;\n    };\n\n    /**\n    * Disables corner cutting in diagonal movement.\n    **/\n    this.disableCornerCutting = function() {\n        allowCornerCutting = false;\n    };\n\n    /**\n    * Stop avoiding all additional points on the grid.\n    **/\n    this.stopAvoidingAllAdditionalPoints = function() {\n        pointsToAvoid = {};\n    };\n\n    /**\n    * Find a path.\n    *\n    * @param {Number} startX The X position of the starting point.\n    * @param {Number} startY The Y position of the starting point.\n    * @param {Number} endX The X position of the ending point.\n    * @param {Number} endY The Y position of the ending point.\n    * @param {Function} callback A function that is called when your path\n    * is found, or no path is found.\n    *\n    **/\n    this.findPath = function(startX, startY, endX, endY, callback) {\n        // Wraps the callback for sync vs async logic\n        var callbackWrapper = function(result) {\n            if (syncEnabled) {\n                callback(result);\n            } else {\n                setTimeout(function() {\n                    callback(result);\n                });\n            }\n        }\n\n        // No acceptable tiles were set\n        if (acceptableTiles === undefined) {\n            throw new Error(\"You can't set a path without first calling setAcceptableTiles() on EasyStar.\");\n        }\n        // No grid was set\n        if (collisionGrid === undefined) {\n            throw new Error(\"You can't set a path without first calling setGrid() on EasyStar.\");\n        }\n\n        // Start or endpoint outside of scope.\n        if (startX < 0 || startY < 0 || endX < 0 || endY < 0 ||\n        startX > collisionGrid[0].length-1 || startY > collisionGrid.length-1 ||\n        endX > collisionGrid[0].length-1 || endY > collisionGrid.length-1) {\n            throw new Error(\"Your start or end point is outside the scope of your grid.\");\n        }\n\n        // Start and end are the same tile.\n        if (startX===endX && startY===endY) {\n            callbackWrapper([]);\n            return;\n        }\n\n        // End point is not an acceptable tile.\n        var endTile = collisionGrid[endY][endX];\n        var isAcceptable = false;\n        for (var i = 0; i < acceptableTiles.length; i++) {\n            if (endTile === acceptableTiles[i]) {\n                isAcceptable = true;\n                break;\n            }\n        }\n\n        if (isAcceptable === false) {\n            callbackWrapper(null);\n            return;\n        }\n\n        // Create the instance\n        var instance = new Instance();\n        instance.openList = new Heap(function(nodeA, nodeB) {\n            return nodeA.bestGuessDistance() - nodeB.bestGuessDistance();\n        });\n        instance.isDoneCalculating = false;\n        instance.nodeHash = {};\n        instance.startX = startX;\n        instance.startY = startY;\n        instance.endX = endX;\n        instance.endY = endY;\n        instance.callback = callbackWrapper;\n\n        instance.openList.push(coordinateToNode(instance, instance.startX,\n            instance.startY, null, STRAIGHT_COST));\n\n        instances.push(instance);\n    };\n\n    /**\n    * This method steps through the A* Algorithm in an attempt to\n    * find your path(s). It will search 4-8 tiles (depending on diagonals) for every calculation.\n    * You can change the number of calculations done in a call by using\n    * easystar.setIteratonsPerCalculation().\n    **/\n    this.calculate = function() {\n        if (instances.length === 0 || collisionGrid === undefined || acceptableTiles === undefined) {\n            return;\n        }\n        for (iterationsSoFar = 0; iterationsSoFar < iterationsPerCalculation; iterationsSoFar++) {\n            if (instances.length === 0) {\n                return;\n            }\n\n            if (syncEnabled) {\n                // If this is a sync instance, we want to make sure that it calculates synchronously.\n                iterationsSoFar = 0;\n            }\n\n            // Couldn't find a path.\n            if (instances[0].openList.size() === 0) {\n                var ic = instances[0];\n                ic.callback(null);\n                instances.shift();\n                continue;\n            }\n\n            var searchNode = instances[0].openList.pop();\n\n            // Handles the case where we have found the destination\n            if (instances[0].endX === searchNode.x && instances[0].endY === searchNode.y) {\n                instances[0].isDoneCalculating = true;\n                var path = [];\n                path.push({x: searchNode.x, y: searchNode.y});\n                var parent = searchNode.parent;\n                while (parent!=null) {\n                    path.push({x: parent.x, y:parent.y});\n                    parent = parent.parent;\n                }\n                path.reverse();\n                var ic = instances[0];\n                var ip = path;\n                ic.callback(ip);\n                return\n            }\n\n            var tilesToSearch = [];\n            searchNode.list = CLOSED_LIST;\n\n            if (searchNode.y > 0) {\n                tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                    x: 0, y: -1, cost: STRAIGHT_COST * getTileCost(searchNode.x, searchNode.y-1)});\n            }\n            if (searchNode.x < collisionGrid[0].length-1) {\n                tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                    x: 1, y: 0, cost: STRAIGHT_COST * getTileCost(searchNode.x+1, searchNode.y)});\n            }\n            if (searchNode.y < collisionGrid.length-1) {\n                tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                    x: 0, y: 1, cost: STRAIGHT_COST * getTileCost(searchNode.x, searchNode.y+1)});\n            }\n            if (searchNode.x > 0) {\n                tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                    x: -1, y: 0, cost: STRAIGHT_COST * getTileCost(searchNode.x-1, searchNode.y)});\n            }\n            if (diagonalsEnabled) {\n                if (searchNode.x > 0 && searchNode.y > 0) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y-1) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x-1, searchNode.y))) {\n\n                        tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                            x: -1, y: -1, cost: DIAGONAL_COST * getTileCost(searchNode.x-1, searchNode.y-1)});\n                    }\n                }\n                if (searchNode.x < collisionGrid[0].length-1 && searchNode.y < collisionGrid.length-1) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y+1) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x+1, searchNode.y))) {\n\n                        tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                            x: 1, y: 1, cost: DIAGONAL_COST * getTileCost(searchNode.x+1, searchNode.y+1)});\n                    }\n                }\n                if (searchNode.x < collisionGrid[0].length-1 && searchNode.y > 0) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y-1) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x+1, searchNode.y))) {\n\n\n                        tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                            x: 1, y: -1, cost: DIAGONAL_COST * getTileCost(searchNode.x+1, searchNode.y-1)});\n                    }\n                }\n                if (searchNode.x > 0 && searchNode.y < collisionGrid.length-1) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y+1) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x-1, searchNode.y))) {\n\n\n                        tilesToSearch.push({ instance: instances[0], searchNode: searchNode,\n                            x: -1, y: 1, cost: DIAGONAL_COST * getTileCost(searchNode.x-1, searchNode.y+1)});\n                    }\n                }\n            }\n\n            var isDoneCalculating = false;\n\n            // Search all of the surrounding nodes\n            for (var i = 0; i < tilesToSearch.length; i++) {\n                checkAdjacentNode(tilesToSearch[i].instance, tilesToSearch[i].searchNode,\n                    tilesToSearch[i].x, tilesToSearch[i].y, tilesToSearch[i].cost);\n                if (tilesToSearch[i].instance.isDoneCalculating === true) {\n                    isDoneCalculating = true;\n                    break;\n                }\n            }\n\n            if (isDoneCalculating) {\n                instances.shift();\n                continue;\n            }\n\n        }\n    };\n\n    // Private methods follow\n    var checkAdjacentNode = function(instance, searchNode, x, y, cost) {\n        var adjacentCoordinateX = searchNode.x+x;\n        var adjacentCoordinateY = searchNode.y+y;\n\n        if (pointsToAvoid[adjacentCoordinateX + \"_\" + adjacentCoordinateY] === undefined &&\n            isTileWalkable(collisionGrid, acceptableTiles, adjacentCoordinateX, adjacentCoordinateY, searchNode)) {\n            var node = coordinateToNode(instance, adjacentCoordinateX,\n                adjacentCoordinateY, searchNode, cost);\n\n            if (node.list === undefined) {\n                node.list = OPEN_LIST;\n                instance.openList.push(node);\n            } else if (searchNode.costSoFar + cost < node.costSoFar) {\n                node.costSoFar = searchNode.costSoFar + cost;\n                node.parent = searchNode;\n                instance.openList.updateItem(node);\n            }\n        }\n    };\n\n    // Helpers\n    var isTileWalkable = function(collisionGrid, acceptableTiles, x, y, sourceNode) {\n        if (directionalConditions[x + \"_\" + y]) {\n            var direction = calculateDirection(sourceNode.x - x, sourceNode.y - y)\n            var directionIncluded = function () {\n                for (var i = 0; i < directionalConditions[x + \"_\" + y].length; i++) {\n                    if (directionalConditions[x + \"_\" + y][i] === direction) return true\n                }\n                return false\n            }\n            if (!directionIncluded()) return false\n        }\n        for (var i = 0; i < acceptableTiles.length; i++) {\n            if (collisionGrid[y][x] === acceptableTiles[i]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    /**\n     * -1, -1 | 0, -1  | 1, -1\n     * -1,  0 | SOURCE | 1,  0\n     * -1,  1 | 0,  1  | 1,  1\n     */\n    var calculateDirection = function (diffX, diffY) {\n        if (diffX === 0, diffY === -1) return EasyStar.BOTTOM\n        else if (diffX === 1, diffY === -1) return EasyStar.BOTTOM_LEFT\n        else if (diffX === 1, diffY === 0) return EasyStar.LEFT\n        else if (diffX === 1, diffY === 1) return EasyStar.TOP_LEFT\n        else if (diffX === 0, diffY === 1) return EasyStar.TOP\n        else if (diffX === -1, diffY === 1) return EasyStar.TOP_RIGHT\n        else if (diffX === -1, diffY === 0) return EasyStar.RIGHT\n        else if (diffX === -1, diffY === -1) return EasyStar.BOTTOM_RIGHT\n        throw new Error('These differences are not valid: ' + diffX + ', ' + diffY)\n    };\n\n    var getTileCost = function(x, y) {\n        return pointsToCost[x + '_' + y] || costMap[collisionGrid[y][x]]\n    };\n\n    var coordinateToNode = function(instance, x, y, parent, cost) {\n        if (instance.nodeHash[x + \"_\" + y]!==undefined) {\n            return instance.nodeHash[x + \"_\" + y];\n        }\n        var simpleDistanceToTarget = getDistance(x, y, instance.endX, instance.endY);\n        if (parent!==null) {\n            var costSoFar = parent.costSoFar + cost;\n        } else {\n            costSoFar = 0;\n        }\n        var node = new Node(parent,x,y,costSoFar,simpleDistanceToTarget);\n        instance.nodeHash[x + \"_\" + y] = node;\n        return node;\n    };\n\n    var getDistance = function(x1,y1,x2,y2) {\n        if (diagonalsEnabled) {\n            // Octile distance\n            var dx = Math.abs(x1 - x2);\n            var dy = Math.abs(y1 - y2);\n            if (dx < dy) {\n                return DIAGONAL_COST * dx + dy;\n            } else {\n                return DIAGONAL_COST * dy + dx;\n            }\n        } else {\n            // Manhattan distance\n            var dx = Math.abs(x1 - x2);\n            var dy = Math.abs(y1 - y2);\n            return (dx + dy);\n        }\n    };\n}\n\nEasyStar.TOP = 'TOP'\nEasyStar.TOP_RIGHT = 'TOP_RIGHT'\nEasyStar.RIGHT = 'RIGHT'\nEasyStar.BOTTOM_RIGHT = 'BOTTOM_RIGHT'\nEasyStar.BOTTOM = 'BOTTOM'\nEasyStar.BOTTOM_LEFT = 'BOTTOM_LEFT'\nEasyStar.LEFT = 'LEFT'\nEasyStar.TOP_LEFT = 'TOP_LEFT'\n",
    "/**\n * Represents a single instance of EasyStar.\n * A path that is in the queue to eventually be found.\n */\nmodule.exports = function() {\n    this.isDoneCalculating = true;\n    this.pointsToAvoid = {};\n    this.startX;\n    this.callback;\n    this.startY;\n    this.endX;\n    this.endY;\n    this.nodeHash = {};\n    this.openList;\n};",
    "/**\n* A simple Node that represents a single tile on the grid.\n* @param {Object} parent The parent node.\n* @param {Number} x The x position on the grid.\n* @param {Number} y The y position on the grid.\n* @param {Number} costSoFar How far this node is in moves*cost from the start.\n* @param {Number} simpleDistanceToTarget Manhatten distance to the end point.\n**/\nmodule.exports = function(parent, x, y, costSoFar, simpleDistanceToTarget) {\n    this.parent = parent;\n    this.x = x;\n    this.y = y;\n    this.costSoFar = costSoFar;\n    this.simpleDistanceToTarget = simpleDistanceToTarget;\n\n    /**\n    * @return {Number} Best guess distance of a cost using this node.\n    **/\n    this.bestGuessDistance = function() {\n        return this.costSoFar + this.simpleDistanceToTarget;\n    }\n};",
    "module.exports = require('./lib/heap');\n",
    "// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof exports === 'object') {\n      return module.exports = factory();\n    } else {\n      return root.Heap = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(this);\n"
  ]
}